# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":211,"y":-60,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"FL^PkXh~-c-LjP{H1}ZC","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"9@^NBjYc+GjBjc`Pb,H4"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"U8o+7z@pUCcKc(UT^LHx","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"HFkUTEmpT$lZtmbK?q-+","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"][!S}zE^e^3aP?pS+[5G","fields":{"VAR":{"id":"Su-K+@ipYJ]?wK7afUtp"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"A@;fJvj9yn3)0RC5W1D-","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":".P/R)`_9h_(1)0N(B8$-","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"IL_Hd|MJ=QMfeORtwv$:","fields":{"VAR":{"id":"rc~y!?JV?1]3(G[l-U3z"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"}f8CTngEZyXJ{w..#(HZ","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"-AxmFwm*neaC+F5elK:#","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"gEOtnrDEg#F_l~`!i_LC","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"s7N{FmzHm]ypN*1DgeZ,","fields":{"VAR":{"id":"Su-K+@ipYJ]?wK7afUtp","name":"leftwheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"uOFu.cJW,aV_^,*Nu0b+","fields":{"VAR":{"id":"rc~y!?JV?1]3(G[l-U3z","name":"rightwheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"cE4M(w-vYi!=B!{:-zA)","fields":{"VALUE0":30.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"Ed4dZ%jblD2h]+Q[#u`c","fields":{"VALUE0":86}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-376,"y":61,"deletable":false,"next":{"block":{"type":"blockImuResetHeading","id":"qKD=-*Z$dMOhNQ!GRe)8","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"uV2a?M4GoFsWP$C9Kqaq","fields":{"VAR":{"id":"9@^NBjYc+GjBjc`Pb,H4","name":"perf","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"FO#u$y{o@*/WhvQCJ[|C","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockPrint","id":"j,,T}?rBkaW$1v?olp4p","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Hello, Pybricks!"}},"block":{"type":"blockImuGetHeading","id":"U|7u.yw$$bJnek(8{KKD","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"dt9yMBghu|ed;-#f;`1Z","fields":{"VAR":{"id":"9@^NBjYc+GjBjc`Pb,H4","name":"perf","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"G]E#w61If7f4VZ`W(UPs","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"DDgC()9Nj^H,3`zs7I2y","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"3,F;iAasqbPIc!Aftrbz","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"cuz3Jq}%X);Pi%Qd69G)","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"2ax!+iRGy`#sOo-dm7s8","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"U}CUv74Ea2pFp^1?Z?)n","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_TURN_RATE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"-OaBc3[D_EUg1n,-TBrK","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"70}1T*$v987Bd{iI9DnQ","fields":{"VALUE0":90}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"f88m!JK3e{l2WizJ]yGr","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"|Ihiem(U?ErM`zI`UJWA","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"Qiht=*:r%(l0^wVL_=Ow","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"d7u)Kz69[mkD=_MteJs!","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"~$aV]e,D+*S0_dKb;iWU"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"Ur3@xI_3Z9hoQevqBn7~","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"yWY)^T-V8GFej{Jn}lYg"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"yOuQ?K}[:4koAYXzwiPt","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"~$aV]e,D+*S0_dKb;iWU"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"5FE1qnMkHFc+K#/^;y{#","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"yWY)^T-V8GFej{Jn}lYg"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"Z@kGdcHx1%X@2iFYG*+G","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"g|t33m}exFtf5NNZUR4/"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"uJu|WQ3x/{7XV,fK_%~A","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"yWY)^T-V8GFej{Jn}lYg"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"6L9PWD}t@{f[vPMiRB%{","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"g|t33m}exFtf5NNZUR4/"}},"next":{"block":{"type":"blockProgramStop","id":"aaHK1,7P:@ZmXhYm3m-8"}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"0`#LvD)Y[^*r|L_?b93:","x":-1047,"y":459,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"~$aV]e,D+*S0_dKb;iWU"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive","id":"vfq#H!gzNGVxHdn?t0t:","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ZGlxpH?09g(Zm/p]yC_f","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"QeIj~2D,wiC(~*U0b+/N","fields":{"VALUE0":300}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"ePP]fief)R3??Qh5z0k;","fields":{"VALUE":"Stop.HOLD"}}}}}}}},{"type":"variables_setup_function","id":"3EcK(Lpr(cb@n@)CEN8(","x":-1039,"y":43,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"yWY)^T-V8GFej{Jn}lYg"}},"inputs":{"STACK":{"block":{"type":"blockFlowRepeat","id":"uq}ymi*l8=]o$VFm902z","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"G#|nq,j`|O290I*mY/j1","fields":{"NUM":4}}},"DO":{"block":{"type":"blockPrint","id":"%?(A{G+-NPgVro.6Au9%","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Hello, Pybricks!"}},"block":{"type":"blockImuGetHeading","id":"yVjOsVE9l:]zJy(#P;#5","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"z1]0;k*L#9(K9$gq+eL*","fields":{"VAR":{"id":"9@^NBjYc+GjBjc`Pb,H4","name":"perf","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"RM0;mr,kD+Qnw=Mz7r3f","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"aGn*(sKN;2mAboaz0q[5","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"LF$OuWJ8bL}uICK~I/2?","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"%F9p68/ub$Hh@z+*pC*A","fields":{"VALUE":"Stop.BRAKE"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"4Ih5weD=UXo1wuMHs.vk","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"rh[~=o2%*TVK3XA%j#p+","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"hI/5;vF??DPP)T2L;U6T","fields":{"VALUE0":91}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"-4Zj?rv4Yqw#tqP!YkrH","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"z{?Vk=]Y42h=:Se8PUN3","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"$4z#`7D9|Tu%ZTtM;9EX","fields":{"TEXT":"Final Heading:"}}},"TEXT1":{"shadow":{"type":"text","id":"58=RM%l2@7VR(ZBPLVp)","fields":{"TEXT":"abc"}}}},"next":{"block":{"type":"blockPrint","id":"#wK(`%=H)RnZa7Q`Q`Kd","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Hello, Pybricks!"}},"block":{"type":"blockImuGetHeading","id":"%m@ormCdGaFS_Ct2vVP;","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":":5%GD/1dd!lH2Nl9yP*2","fields":{"VAR":{"id":"9@^NBjYc+GjBjc`Pb,H4","name":"perf","type":"PrimeHub"}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"A~ZMny{~@+;(7kX^d*%G","x":-1044,"y":627,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"g|t33m}exFtf5NNZUR4/"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive","id":"3=2rAfRY0W-:4rrYTVK5","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"|S(IGD58ga[e9L:-:M7?","fields":{"VAR":{"id":")6@v#0Zrqc6r)QZkZ*pX","name":"drivebase","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":")x@,tId0,r]$|[y$nILk","fields":{"VALUE0":-330}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"NyRp+JJ.7!`F3$228K}q","fields":{"VALUE":"Stop.HOLD"}}}}}}}}]},"variables":[{"name":"red","id":"Oj[?%201uN6T+$Nwsw[k","type":"ColorDef"},{"name":"orange","id":"jJ-W1J?l?qS01[@yS}ml","type":"ColorDef"},{"name":"yellow","id":".NG80KU%yBGSE=kX=yFu","type":"ColorDef"},{"name":"green","id":"n(,4QHi9nf,bGw+tb=k_","type":"ColorDef"},{"name":"cyan","id":"C_R04Ro/bUw)t*qo8Tqk","type":"ColorDef"},{"name":"blue","id":"b|DddkkZm?y4hMW8eH-%","type":"ColorDef"},{"name":"violet","id":"xcdKtMh9L|xwB+Ne:2nZ","type":"ColorDef"},{"name":"magenta","id":"J5IWpMkjuCevc.iAy;jY","type":"ColorDef"},{"name":"white","id":"*c!cz={SExLO7xU/LOGC","type":"ColorDef"},{"name":"none","id":"[?RB2SVBiTU:Rsgf-QeW","type":"ColorDef"},{"name":"perf","id":"9@^NBjYc+GjBjc`Pb,H4","type":"PrimeHub"},{"name":"leftwheel","id":"Su-K+@ipYJ]?wK7afUtp","type":"Motor"},{"name":"rightwheel","id":"rc~y!?JV?1]3(G[l-U3z","type":"Motor"},{"name":"run1","id":"~$aV]e,D+*S0_dKb;iWU","type":"Function"},{"name":"driveSquare","id":"yWY)^T-V8GFej{Jn}lYg","type":"Function"},{"name":"run2","id":"g|t33m}exFtf5NNZUR4/","type":"Function"},{"name":"drivebase","id":")6@v#0Zrqc6r)QZkZ*pX","type":"DriveBase"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase

# Set up all devices.
perf = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
leftwheel = Motor(Port.A, Direction.COUNTERCLOCKWISE)
rightwheel = Motor(Port.E, Direction.CLOCKWISE)
drivebase = DriveBase(leftwheel, rightwheel, 30.4, 86)

def driveSquare():
    for count in range(4):
        print(perf.imu.heading())
        drivebase.straight(250, Stop.BRAKE)
        drivebase.turn(91)
    print('Final Heading:', 'abc')
    print(perf.imu.heading())

def run1():
    drivebase.straight(300)

def run2():
    drivebase.straight(-330)


# The main program starts here.
perf.imu.reset_heading(0)
print(perf.imu.heading())
drivebase.straight(0)
drivebase.use_gyro(True)
drivebase.settings(turn_rate=90)
drivebase.settings(straight_speed=200)
run1()
driveSquare()
run1()
driveSquare()
run2()
driveSquare()
run2()
raise SystemExit
